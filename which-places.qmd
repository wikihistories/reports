---
title: "How Australian places are represented in Wikipedia"
subtitle: "The Annual Report of the Wikihistories Project"
keywords:
  - Wikipedia
  - historiography
  - Australia
  - digital humanities
  - systemic bias
  - historical geography
date: July 2024
# doi: 
author:
  - name: Francesca Sidoti
    orcid: 0009-0005-1321-9372
    affiliation: University of Technology, Sydney
  - name: Michael Falk
    orcid: 0000-0001-9261-8390
    affiliation: University of Melbourne
    url: https://findanexpert.unimelb.edu.au/profile/1043380-michael-falk
  - name: Heather Ford
    orcid: 0000-0002-3500-9772
    affiliation: University of Technology, Sydney
    url: https://hblog.org/
  - name: Tamson Pietsch
    orcid: 0000-0002-8304-7108
    affiliation: University of Technology, Sydney
    url: https://capandgown.wordpress.com/
  - name: Tom Byers
    orcid: 0009-0005-9927-7679
    affiliation: University of Melbourne
    url: https://tom-byers.com
citation:
  type: report
  publisher: University of Technology, Sydney
  container-title: Reports of the Wikihistories Project
  number: 2
  pdf-url: which-places.pdf
google-scholar: true
bibliography: wikihistories.bib
format:
  html:
    description-meta: "How are Australian places represented in Wikipedia? In the second report of the wikihistories project, we explore the complex historical geography of Australia in the world's largest encyclopedia."
    embed-resources: true
  pdf:
    header-includes: |
      \fancyfoot[LO,LE]{Reports of the Wikihistories Project, No. 2 (2024) doi:TBC}
---

```{r message=FALSE, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
file.path("scripts", "which-places-data.R") |> source()

title_to_wikipedia_url <- function(title, lang = "en") {
  purrr::map_chr(
    title,
    \(t) paste0(
      "[", t, "]",
      "(https://", lang, ".wikipedia.org/wiki/", stringr::str_replace_all(t, " ", "_"), ")"
    )
  )
}
```


## Frequently Asked Questions

### Which Australian places are most contentious?

```{r}
#| label: fig-contention
#| fig-cap: These 10 articles have the highest ratio of 'reverts' to 'human edits' in the dataset, of all articles with more than 50 edits. Are they the most contentious articles in the dataset? That question is impossible to answer by such a simple measure.

edit_threshold <- 50

figure_1_data <- edit_data |>
  dplyr::mutate(
    reverts = reverts$count,
    edits = edits$count,
    revert_ratio = reverts / edits
  ) |> 
  dplyr::filter(
    reverts + edits > edit_threshold
  ) |>
  dplyr::arrange(desc(revert_ratio)) |> 
  dplyr::slice_head(n=10) |> 
  dplyr::mutate(display_title = title_to_wikipedia_url(title))

figure_1_data |> 
  dplyr::select(
    Article = display_title,
    Edits = edits,
    Reverts = reverts,
    `Reverts per Edit` = revert_ratio
  ) |>
  knitr::kable()
  # tidyr::pivot_longer(
  #   cols=c(reverts, edits),
  #   values_to = "edits",
  #   names_to = "edit_type"
  # ) |> 
  # dplyr::select(title, revert_ratio, edit_type, edits) |> 
  # dplyr::mutate(
  #   title = forcats::fct_inorder(title) |> forcats::fct_rev() # To preserve order in chart
  # )
# figure_1_data |> ggplot2::ggplot(
#     ggplot2::aes(y = title, x = edits, fill = edit_type),
#     width = 10,
#     height = 5
#   ) +
#   ggplot2::geom_col() +
#   ggplot2::labs(
#     title = "10 Contentious Articles",
#     x = "Human + Reverted edits",
#     y = "Place name",
#     fill = "Edit type"
#   )
```

Some Wikipedia pages are more controversial than others. Wikipedia contributors have argued for years over whether [Pavolva](https://en.wikipedia.org/wiki/Talk:Pavlova_(dessert)) was invented in Australia or New Zealand. By contrast, the page for the [Pacific Highway](https://en.wikipedia.org/wiki/Talk:Pacific_Highway_(Australia)) has inspired virtually no debate. It is not easy to locate or rank contentious articles using computerised methods. Contention can take many forms: editors might 'revert' (i.e. undo) one another's edits; they might debate topics in-depth on Wikipedia Talk pages; they might abuse one another 'off-wiki'; they might accuse one another of misconduct, and be subject to adminstrative redress. For simplicity's sake, we focus just on the first manifestation of contention, when Wikipedians 'revert' or undo each others' edits.

In @fig-contention, we have attempted to find 10 highly contentious Places using a simple metric. The figure shows the 10 Australian Places that have been edited at least `r edit_threshold` times, with the highest ratio of 'reverted' edits to human edits. For example, the little article on [Barmah National Park](https://en.wikipedia.org/wiki/Barmah_National_Park) has only had text added to it `r figure_1_data |> dplyr::filter(title == "Barmah National Park") |> dplyr::pull(edits)` times, but `r figure_1_data |> dplyr::filter(title == "Barmah National Park") |> dplyr::pull(reverts)` of those edits have been reverted! The reason is a long-running dispute over whether horses in the national park should be considered as 'wild' or 'feral'. This debate reflects a deep anxiety in Australia about the moral value of European settlement. Some White Australians see the horses (or '[brumbies](https://en.wikipedia.org/wiki/Brumby)') as part of Australia's [European heritage](https://www.abc.net.au/news/2020-05-08/brumby-culling-to-go-ahead-following-federal-court-decision/12228896). Others view them as an invasive species that represent the destructive history of European colonisation. Other examples in @fig-contention reflect similarly emotional conflicts in Australian society. The page for [Howard Springs](https://en.wikipedia.org/wiki/Howard_Springs,_Northern_Territory) was subject to an 'edit war' during the pandemic, when one editor wished to redefine the COVID-19 Quarantine Facility as as Concentration Camp. The page for [Airport Drive](https://en.wikipedia.org/wiki/Airport_Drive_(Melbourne)), meanwhile, was subject to an altogether less emotional dispute: the editors could not agree which other roads intersect with this Melbourne motorway.

As these few examples demonstrate, Australian places can inspire many kinds of dispute: disputes about Australia's colonisation, disputes about civil liberties, disputes about arid matters of geographical fact. They can also inspire simple vandalism, sometimes of a rather unsavoury kind, as in the case of [Nigger Head](https://en.wikipedia.org/wiki/Nigger_Head), which pranksters delight to edit with racist slurs and absurd jokes.

### Which language edition has the most Australian places?

```{r}
#| label: fig-lang-edition
#| fig-cap: The Cebuano and Swedish Wikipedias have many articles written by a software program, lsjbot. Swedish Wikipedians have in recent years deleted most of lsjbot's articles, but the small community of Cebuano editors in the Philippines have not done so in their encyclopaedia.

language_data <- places |> 
  dplyr::select(sitelinks) |> 
  tidyr::unnest(sitelinks) |> 
  dplyr::group_by(sitelinks) |> 
  dplyr::summarise(n = n()) |> 
  dplyr::rename(wiki_code = sitelinks) |> 
  dplyr::arrange(desc(n)) |> 
  dplyr::mutate(
    lang_code = stringr::str_remove(wiki_code, "wiki")
  ) |> 
  dplyr::left_join(
    lang_codes,
    by = dplyr::join_by(lang_code == code)
  ) |> 
  dplyr::rename(language_edition = name) |> 
  dplyr::mutate(
    language_edition = forcats::fct_inorder(language_edition)
  ) |> 
  tidyr::drop_na()
language_data |> 
  dplyr::slice_head(n=15) |> 
  ggplot2::ggplot(
    ggplot2::aes(x = language_edition, y = n)
  ) +
  ggplot2::geom_col() +
  ggplot2::labs(
    title = "The 10 Wikipedias with the most articles about Australian places",
    x = "Language Edition",
    y = "Number of Articles for Australian Places"
  ) +
  ggplot2::theme(
    axis.text.x = ggplot2::element_text(angle = 90, vjust=0.4, hjust=1)
  )
```

Wikipedia is available in more than 300 languages. You might expect that English Wikipedia would have the most articles about Australian places—but you'd be wrong. @fig-lang-edition shows that [Cebuano Wikipedia](https://ceb.wikipedia.org) has by far the largest number of articles about Australian places. Tens of thousands of Australian places, such as [Molecap Hill](https://ceb.wikipedia.org/wiki/Molecap_Hill), [Dindum Island](https://ceb.wikipedia.org/wiki/Dindum_Island) and [Mount Finlayson Range](https://ceb.wikipedia.org/wiki/Mount_Finlayson_Range), have articles *only* in Cebuano Wikipedia. Why is this?

It is *not* because the speakers of the [Cebuano language](https://en.wikipedia.org/wiki/Cebuano_language) in Philippines are obsessed with Australian geography. It is because virtually the whole Cebuano Wikipedia has been written by a bot, [lsjbot](https://en.wikipedia.org/wiki/Lsjbot), programmed by [Sverker Johansson](https://en.wikipedia.org/wiki/Sverker_Johansson), a Swedish computational linguist. `lsjbot` was historically responsible for a large portion of Swedish Wikipedia too, and despite efforts by Swedish Wikipedians to delete its formulaic articles, `lsjbot` is still responsible for many Swedish articles about obscure Australian places, including [Dawes National Park](https://sv.wikipedia.org/wiki/Dawes_nationalpark) and [Lake Baker](https://sv.wikipedia.org/wiki/Lake_Baker). The story is similar on [Egyptian Arabic Wikipedia](https://arz.wikipedia.org/wiki/%D8%A7%D9%84%D8%B5%D9%81%D8%AD%D9%87_%D8%A7%D9%84%D8%B1%D8%A6%D9%8A%D8%B3%D9%8A%D9%87). Egyptian Arabic Wikipedia contains thousands of articles about Australian places because of one editor, [Mahar Asaad Baker](https://arz.wikipedia.org/wiki/%D9%85%D8%B3%D8%AA%D8%AE%D8%AF%D9%85:HitomiAkane), who describes [in a published booklet](https://search.worldcat.org/title/1341182226) how they wrote 1.6 million articles by downloading data from Wikidata and converting it into [Masri](https://en.wikipedia.org/wiki/Masri) text for the site.

How is it possible for simple software to generate so many factually accurate articles about Australian places? Read any article by `lsjbot`, and you will see how thoroughly geography has been 'datified' in the 21st century. A global database, [geonames.org](https://geonames.org) records basic data about millions of place names. `lsjbot` browses geonames.org to find places without Wikipedia articles. When it finds a missing article, `lsjbot` extracts basic information from geonames.org, such as the type, name, and co-ordinates of the place. The bot then combines the basic information with publicly-available climate data from [NASA Earth Observations datasets](https://neo.gsfc.nasa.gov/dataset_index.php), and uses [this climatic map](https://hess.copernicus.org/articles/11/1633/2007/) to determine the place's [Köppen climate classification](https://en.wikipedia.org/wiki/K%C3%B6ppen_climate_classification).[^1] These big geographical databases don't really reflect the interests of human readers and writers, as we will see in the next question...

[^1]: If you know the C# programming language, you can see how `lsjbot` does all this [here](https://github.com/Lsjbot/make-geonames/blob/master/Program.cs).

### What kinds of places get most attention from editors?

```{r}
#| label: fig-attention
#| fig-cap: This shows all the types of places that have at least ten articles about them in English and Cebuano Wikipedia. The types are positioned on the graph according to the percentage of articles of that type in the dataset. Types below the line have a higher proportion in English Wikipedia than in Cebuano Wikipedia, and vice-versa. The brighter blue the label, the more often places of that type have been edited in English Wikipedia. 
edits_by_type <- edit_data |> 
  # The edit table just has one place type for each article. Thus some place
  # types are recording no edits in English Wikipedia, even if they have been
  # edited. Get all the place type data back in
  dplyr::select(-instance_of) |> # The column will be re-added from the join
  # There was some error, which may have been because dplyr::join doesn't really
  # like data.frame columns. So lift out the two columns we want
  dplyr::mutate(
    edits = edits$count,
    reverts = reverts$count
  ) |> 
  dplyr::full_join(
    dplyr::select(places, wikidata_id, instance_of),
    by = "wikidata_id"
  ) |> 
  dplyr::group_by(instance_of) |> 
  # na.rm = TRUE seems to help with the aforementioned error
  # where some edit data was being dropped
  dplyr::summarise(total_edits = sum(edits + reverts, na.rm = TRUE))

attention_data <- places |> 
  tidyr::unnest(sitelinks) |>
  dplyr::group_by(instance_of, sitelinks) |> 
  dplyr::summarise(total_pages = n()) |> 
  dplyr::ungroup() |> 
  dplyr::filter(sitelinks %in% c("cebwiki", "enwiki")) |> 
  tidyr::pivot_wider(
    names_from = "sitelinks",
    values_from = "total_pages",
    values_fill = 0
  ) |> 
  dplyr::left_join(edits_by_type, by = "instance_of") |> 
  dplyr::left_join(
    dplyr::select(types, type, label),
    by = dplyr::join_by(instance_of == type)
  ) |> 
  tidyr::replace_na(list(total_edits=0)) |> 
  dplyr::filter(
    enwiki > 10,
    cebwiki > 10
  ) |> 
  dplyr::mutate(
    enwiki = enwiki / sum(enwiki),
    cebwiki = cebwiki / sum(cebwiki)
  )

attention_data |> 
  ggplot2::ggplot(
    aes(x = enwiki, y = cebwiki, colour = total_edits, label = label)
  ) +
  ggplot2::geom_abline(slope = 1, intercept = c(0,0), colour = "lightgrey") + 
  ggplot2::geom_text() +
  ggplot2::annotate(
    "text",
    x = 0.01,
    y = 1,
    label = "Higher proportion in Cebuano Wikipedia",
    hjust = "right",
    angle = 45
  ) +
  ggplot2::annotate(
    "text",
    x = 0.06,
    y = 0.0005,
    label = "Higher proportion in English Wikipedia",
    hjust = "left",
    angle = 45
  ) +
  ggplot2::scale_x_log10(labels = scales::label_percent(), limits = c(0.0005, 1)) + 
  ggplot2::scale_y_log10(labels = scales::label_percent(), limits = c(0.0005, 1)) +
  ggplot2::scale_colour_continuous(trans = "log10", labels = scales::label_comma(big.mark = " ")) +
  ggplot2::theme_minimal() +
  ggplot2::labs(
    x = "Places of this type in English Wikipedia",
    y = "Places of this type in Cebuano Wikipedia",
    color = "Edits (English)"
  )
  
```
```{r}
# TODO: Fix the maths in the paragraph below. The calculations are complicated 
# by the fact that each place article can have more than one type. Currently
# I don't account for that properly. That said, the numbers aren't likely to
# change all that significnatly when I clean it up.
```


If we compare Cebuano and English Wikipedias, we see that human and bot editors have different priorities. Broadly speaking, Cebuano Wikipedia is bot-authored, while English Wikipedia is human-authored.[^3] In English Wikipedia, places of human occupation make up a bigger proportion of the total. Towns, localities, cities, urban parks and villages all make up a larger proportion of the place articles in English Wikipedia than in Cebuano Wikipedia. By contrast, in bot-authored Cebuano Wikipedia, geographical features such as mountains, lakes, bights and hills make up a much larger share of the Australian Place articles. This difference is is even more pronounced when we consider edit statistics on English Wikipedia. Consider articles about cities. Cities account for only `r attention_data |> dplyr::filter(instance_of == "Q515") |> dplyr::pull("enwiki") |> scales::label_percent(accuracy = 0.01)()` of the Australian places on English Wikipedia (`r attention_data |> dplyr::filter(instance_of == "Q515") |> dplyr::pull("cebwiki") |> scales::label_percent(accuracy = 0.01)()` in Cebuano ones), but they have received `r attention_data |> dplyr::mutate(edit_prop = total_edits / sum(total_edits)) |> dplyr::filter(instance_of == "Q515") |> dplyr::pull("edit_prop") |> scales::label_percent()()` of the human edits. Not only are human editors more likely to create articles about places with a strong human connection. They are also more likely to spend their time editing them.

English Wikipedia is strongly anthropocentric, at least compared to the geographical databases that form the basis of bot-authored Cebuano Wikipedia. English Wikipedia prioritises human over physical geography.

[^3]: Bots do play numerous important roles on English Wikipedia, but their role in article-creation is far more limited than on Cebuano Wikipedia.

### Who reads the articles about Australian places?

```{r}
pageview_data |> 
  dplyr::mutate(
    country_name = dplyr::case_when(
      country_name == "United States" ~ "USA",
      country_name == "United Kingdom" ~ "UK",
      .default = as.character(country_name)
    )
  ) |> 
  dplyr::group_by(country_name) |> 
  dplyr::summarise(pageviews = sum(pageviews)) |> 
  dplyr::full_join(
    ggplot2::map_data("world"),
    by = dplyr::join_by(country_name == region)) |> 
  ggplot2::ggplot(
    ggplot2::aes(fill = pageviews, group = group, x = long, y = lat)
    ) +
  ggplot2::geom_polygon() +
  ggplot2::labs(
    x = "Latitude",
    y = "Longitude",
    fill = "Pageviews",
    title = "Pageviews of Australian place articles by country",
    subtitle = glue::glue("From {attr(pageview_data, 'from') |> format('%eth %B %Y')} to {attr(pageview_data, 'to') |> format('%eth %B %Y')}")
    ) +
  ggplot2::scale_fill_continuous(
    labels = scales::label_comma(big.mark = " "),
    trans = "log10", breaks = c(1000, 10000, 100000, 1000000)
    ) +
  ggplot2::theme_minimal()
```



### Which Australian places exist?
