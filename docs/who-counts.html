<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kelly Tall">
<meta name="author" content="Michael Falk">

<title>Reports - Who Counts as Australian?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Reports</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-reports" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Reports</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-reports">    
        <li>
    <a class="dropdown-item" href="./who-counts.html" rel="" target="">
 <span class="dropdown-text">2023 | Who Counts as Australian?</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://twitter.com/wikihistories" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/wikihistories/reports">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/wikihistories/reports/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#textual-representation" id="toc-textual-representation" class="nav-link active" data-scroll-target="#textual-representation">Textual representation</a></li>
  <li><a href="#the-category-system" id="toc-the-category-system" class="nav-link" data-scroll-target="#the-category-system">The category system</a></li>
  <li><a href="#wikidata-properties" id="toc-wikidata-properties" class="nav-link" data-scroll-target="#wikidata-properties">Wikidata properties</a></li>
  <li><a href="#the-search-interface" id="toc-the-search-interface" class="nav-link" data-scroll-target="#the-search-interface">The search interface</a></li>
  <li><a href="#conclusion-beyond-bias" id="toc-conclusion-beyond-bias" class="nav-link" data-scroll-target="#conclusion-beyond-bias">Conclusion: beyond bias</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Who Counts as Australian?</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Kelly Tall </p>
             <p>Michael Falk </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Who counts as Australian in Wikipedia and its sister-projects? How does Wikipedia portray Australia’s population? These questions are easy to ask but hard to answer, because of Wikipedia’s <em>representational multiplicity</em>. Wikipedia represents Australia in many ways. Its sister projects—Wikidata and Wikimedia Commons preminent among them—represent Australia in myriad other ways.</p>
<p>In this report, we consider several ways that Australians are represented in Wikipedia and Wikidata. We focus on four main modes of representation:</p>
<ul>
<li><a href="#textual-representation">Textual representation</a>: How Wikipedia answers the question ‘who counts as Australian’ in its articles on the topic</li>
<li><a href="#the-category-system">The category system</a>: How Wikipedia categorises people as ‘Australian’—including its categorisation of Indigenous Australians</li>
<li><a href="#wikidata-properties">Wikidata properties</a>: How Wikidata splits the concept of ‘Australian’ across different properties in the database</li>
<li><a href="#the-search-interface">The search interface</a>: How Wikipedia selects and sorts ‘Australians’ when you search the encyclopaedia</li>
</ul>
<p>In <a href="#conclusion-beyond-bias">Conclusion: beyond bias</a>, we make some suggestions about how Wikipedians might like to improve the representation of Australians in the encyclopaedia. As well as addressing the traditional problem of ‘systemic bias’, we suggest that Wikipedians draw attention to the <em>representational multiplicity</em> of Wikipedia, so that visitors to the site can become more aware of the multiple definitions of ‘Australianness’ across the Wikiverse.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/wikipedia_australia.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">How do Wikipedians construct Australia online?</figcaption>
</figure>
</div>
<section id="textual-representation" class="level2">
<h2 class="anchored" data-anchor-id="textual-representation">Textual representation</h2>
<p>The first answer Wikipedia gives to the question ‘Who counts as Australian?’ is: <a href="https://en.wikipedia.org/w/index.php?title=Australians&amp;oldid=1150975782">any ‘individual’ with a ‘residential, legal, historical or ethno-cultural’ connection to ‘the country of Australia’</a>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> At the time of writing, the ‘Australians’ comprise an estimated <a href="https://en.wikipedia.org/w/index.php?title=Australia&amp;oldid=1153684876">26,468,200</a> residents of Australia, and a diaspora of <a href="https://en.wikipedia.org/w/index.php?title=Australians&amp;oldid=1150975782">577,255</a> Australians overseas.</p>
<p>TODO: Do we need this section? Where should we go with it?</p>
</section>
<section id="the-category-system" class="level2">
<h2 class="anchored" data-anchor-id="the-category-system">The category system</h2>
<p>The second answer Wikipedia gives to the question, ‘Who counts as Australian?’ is: everyone who falls under <a href="https://en.wikipedia.org/wiki/Category:Australian_people">Category:Australian people</a>. There are nearly 100,000 articles on English Wikipedia that relate to Australian people, and the number is growing consistently (<a href="#fig-included-in-ozpeople-over-time">Figure&nbsp;1</a>).<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-included-in-ozpeople-over-time" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="who-counts_files/figure-html/fig-included-in-ozpeople-over-time-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Category:Australian people has grown consistently since the early days of Wikipedia</figcaption>
</figure>
</div>
</div>
</div>
<p>When editors include articles in <code>Category:Australian people</code>, they do not necessarily do so intentionally. Category:Australian people is the root node of a vast tree-like <a href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)">graph</a> of categories. The editor who categorised <a href="https://en.wikipedia.org/wiki/Steve_Wozniak">Steve Wozniak</a> as a <a href="https://en.wikipedia.org/wiki/Category:Academic_staff_of_the_University_of_Technology_Sydney">staff member of the University of Technology Sydney</a> was probably unaware that they were thereby categorising Wozniak as an ‘Australian person’. The category for academic staff at UTS lies several layers deep in the category graph, 4 steps away from the root: <a href="https://en.wikipedia.org/wiki/Category:Academic%20staff%20of%20the%20University%20of%20Technology%20Sydney">Category:Academic staff of the University of Technology Sydney</a> → <a href="https://en.wikipedia.org/wiki/Category:People%20from%20Sydney%20by%20occupation">Category:People from Sydney by occupation</a> → <a href="https://en.wikipedia.org/wiki/Category:Australian%20people%20by%20city%20and%20occupation">Category:Australian people by city and occupation</a> → <a href="https://en.wikipedia.org/wiki/Category:Australian%20people%20by%20occupation">Category:Australian people by occupation</a> → <a href="https://en.wikipedia.org/wiki/Category:Australian_people">Category:Australian_people</a>. Perhaps an editor may quibble that a person who works at UTS is not necessarily ‘from Sydney’, but in the present state of the category graph, there is no other way to mark a staff member of UTS. The category graph is strictly hierarchical. A subcategory cannot be removed from its parent category for the sake of a single page.</p>
<p>Category:Australian people has 9,220 subcategories, many of which are even farther from the root than the staff of UTS. We can get a sense of how vast this structure is by taking <a href="https://en.wikipedia.org/wiki/Distance_(graph_theory)#Related_concepts">diameter</a> of the category graph. In this case, the diameter is 11, which means that the most distant subcategory of <code>Category:Australian people</code> is 11 steps away. Such distant nodes are called ‘eccentric’ in graph theory. In this case, the most distant subcategory truly is eccentric: <a href="https://en.wikipedia.org/wiki/Category:Custard%20(band)%20compilation%20albums">Category:Custard (band) compilation albums</a> does not include articles about ‘Australian people’ at all, but about indie rock records. This case is extreme. The case of UTS staffmembers is more typical. If we consider all the articles that have been placed in <code>Category:Australian people</code> or its subcategories, we find that the subcategories used are on average 3.12 steps away from the root, with a standard deviation of 0.98. In the typical case, when an editor adds an article to an ‘Australian people’ subcategory, the subcategory is 2-4 steps away from the root. It seems likely that editors are mostly unaware of the category graph as a whole. Editors work locally, trying to find the best categorisations for their articles, while Wikipedia’s systems work globally, enforcing the hierarchical logic of the enormous and usually invisible category graph.</p>
<p>If <code>Category:Australian people</code> can include articles about indie rock albums, then the question arises: How many of the articles are actually biographies of people connected to Australia? If we can isolate these articles, then more detailed questions become possible: How are different kinds of people represented among Wikipedia’s ‘Australian’ biographies? Wikipedia itself does not clearly distinguish biographies from other kinds of article. To answer this question, we turn to its sister-project, Wikidata.</p>
</section>
<section id="wikidata-properties" class="level2">
<h2 class="anchored" data-anchor-id="wikidata-properties">Wikidata properties</h2>
<p>To build a picture of the Australian <em>people</em> in Wikipedia, we queried Wikidata using its SPARQL endpoint. Wikidata clearly distinguishes humans from other kinds of entity. Wikidata is made up of <em>items</em> and <em>properties</em>. To describe the properties of an item, users insert <em>statements</em> into the database. Item <a href="https://www.wikidata.org/wiki/Q5">Q5</a> represents the concept ‘human’. To mark another item as a human, it must be given the property <a href="https://www.wikidata.org/wiki/Property:P31">P31</a>, ‘instance of’ with the value ‘Q5’. So, for example, we can see that <a href="https://www.wikidata.org/wiki/Q1064745">Q1064745</a>, the poet Charles Harpur, is a human because he has the property P31(Q5), ‘instance of: human’. While there are of course many gaps in Wikidata, and in theory there could be human ‘items’ that lack P31(Q5), it seems that Wikidata’s contributors do a good job maintaining this part of the database. There are more than <a href="https://w.wiki/3c2J">10 million explicitly-marked humans</a> in Wikidata, and it seems unlikely that many notable Australians have had their humanity overlooked by the system.</p>
<p>As a first step, we queried Wikidata to find all humans that were marked as ‘Australian’ in some way. Humans can be marked as Australian in two main ways on Wikidata:</p>
<ol type="1">
<li>They can be explicitly linked to Australia through properties such as citizenship [], place of birth [] or place of death [], or</li>
<li>They can be implicitly linked to Australia by being linked to a known database of Australians, such as the Dictionary of Australian Biography (<a href="https://www.wikidata.org/wiki/Property:P1907">P1907</a>), Indigenous Australia(<a href="https://www.wikidata.org/wiki/Property:P9246">P9246</a>), or Convict Records of Australia (<a href="https://www.wikidata.org/wiki/Property:P9919">P9919</a>)</li>
</ol>
<p>We queried Wikidata by 51 properties that denote Australianness. Together, these properties are linked to 63260 unique humans in the database.</p>
<p>The Wikidata dataset and the Wikipedia dataset do not perfectly overlap, as shown in (<a href="#fig-overlap-table">Figure&nbsp;2</a>). A small number of the Wikidata Australians have Wikipedia articles that fall outside <code>Category:Australian People</code>, while there are more than 30,000 articles in <code>Category:Australian People</code> which do not correspond to an Australian person has recorded in Wikidata.</p>
<div class="cell">
<div id="fig-overlap-table" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
In Wikidata set?
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
In Wikipedia Set?
</th>
<th style="text-align:right;">
FALSE
</th>
<th style="text-align:right;">
TRUE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
37401
</td>
<td style="text-align:right;">
60817
</td>
</tr>
<tr>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2546
</td>
</tr>
</tbody>

</table>
<figcaption class="figure-caption">Figure&nbsp;2: Many of the Wikidata items correspond to a Wikipedia page in <code>Category:Australian People</code>, but many do not</figcaption>
</figure>
</div>
</div>
<ul>
<li>size in bytes</li>
<li>pageviews</li>
<li>article ratings</li>
<li>number of edits</li>
</ul>
<p><em>TODO</em>: Dig into category graph to explore gender and indigeneity.</p>
</section>
<section id="the-search-interface" class="level2">
<h2 class="anchored" data-anchor-id="the-search-interface">The search interface</h2>
<p>TODO</p>
</section>
<section id="conclusion-beyond-bias" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-beyond-bias">Conclusion: beyond bias</h2>
<p>TODO</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Throughout the report, we link to the particular revision of any page that we consulted in our research.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The growth was calculated using the <code>timestamp</code> data returned by <a href="https://www.mediawiki.org/wiki/API:Categorymembers">API:Categorymembers</a>. The <code>timestamp</code> records when an article, file or subcategory was included in a given category. The documentation does not explain how the inclusion time is calculated for pages that are removed from and then re-included in a category. If an article was included in multiple subcategories of Category:Australian people, then the earliest timestamp was used to calculate its position in the figure.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>